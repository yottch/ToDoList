(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10db":function(e,t,n){},4962:function(e,t,n){"use strict";n("afb5")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={class:"todo"},c=Object(r["d"])(" ToDo list "),a={class:"todoInput"},s=Object(r["e"])("b",null,"+ Add",-1),u={class:"todoList"};function i(e,t,n,i,l,d){var p=Object(r["n"])("Account"),b=Object(r["n"])("Item");return Object(r["i"])(),Object(r["c"])("div",o,[Object(r["e"])(p),Object(r["e"])("h1",null,[c,Object(r["e"])("span",null,"of "+Object(r["o"])(e.userLogin),1)]),Object(r["e"])("form",a,[Object(r["s"])(Object(r["e"])("input",{type:"text",placeholder:"print title","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.newToDo=e})},null,512),[[r["p"],l.newToDo]]),Object(r["e"])("button",{onClick:t[2]||(t[2]=function(e){return d.addItem(e)})},[s])]),Object(r["e"])("div",u,[(Object(r["i"])(!0),Object(r["c"])(r["a"],null,Object(r["m"])(l.items,(function(e,t){return Object(r["i"])(),Object(r["c"])(b,{key:e.id,item:e,idx:t,onDel:d.delItem,onDone:d.doneItem},null,8,["item","idx","onDel","onDone"])})),128))])])}var l=n("5530"),d=n("1da1"),p=(n("c740"),n("a434"),n("159b"),n("96cf"),n("b0c0"),Object(r["u"])("data-v-28c7d117"));Object(r["k"])("data-v-28c7d117");var b={class:"todoId"},f={class:"todoName"},g={class:"todoIcon"};Object(r["j"])();var m=p((function(e,t,n,o,c,a){var s=Object(r["n"])("font-awesome-icon");return Object(r["i"])(),Object(r["c"])("div",{class:["todoItem",{doneItem:n.item.done}]},[Object(r["e"])("div",b,Object(r["o"])(n.idx+1),1),Object(r["e"])("div",f,Object(r["o"])(n.item.name),1),Object(r["e"])("div",g,[Object(r["e"])(s,{icon:c.doneIcon,class:"doneIcon",onClick:t[1]||(t[1]=Object(r["t"])((function(t){return e.$emit("done",n.item.id,!n.item.done)}),["prevent"]))},null,8,["icon"]),Object(r["e"])(s,{icon:c.delIcon,class:"delIcon",onClick:t[2]||(t[2]=Object(r["t"])((function(t){return e.$emit("del",n.item.id)}),["prevent"]))},null,8,["icon"])])],2)})),j=(n("a9e3"),n("ad3d")),O=n("c074"),v={name:"Item",data:function(){return{doneIcon:O["a"],delIcon:O["b"]}},components:{FontAwesomeIcon:j["a"]},props:{item:{type:Object,default:function(){return{}}},idx:{type:Number}}};n("4962");v.render=m,v.__scopeId="data-v-28c7d117";var h=v,w=Object(r["u"])("data-v-06f75456");Object(r["k"])("data-v-06f75456");var k={class:"account"},x=Object(r["d"])(" Login"),I=Object(r["e"])("i",{class:"fas fa-caret-down","aria-hidden":"true"},null,-1),y={class:"dropAccount",ref:"formLogin"},R={class:"dropAccount_name"},A=Object(r["d"])(" Welcome, You signed as:"),L=Object(r["e"])("label",{class:"dropAccount_label",for:"login"},"login",-1),_=Object(r["e"])("label",{class:"dropAccount_label",for:"password"},"password",-1),D={class:"dropAccount_buttons"};Object(r["j"])();var T=w((function(e,t,n,o,c,a){return Object(r["i"])(),Object(r["c"])("div",k,[Object(r["e"])("button",{class:"accountButton",onClick:t[1]||(t[1]=function(e){return c.showAccount=!c.showAccount})},[x,I]),Object(r["s"])(Object(r["e"])("form",y,[Object(r["s"])(Object(r["e"])("div",R,[A,Object(r["e"])("span",null,Object(r["o"])(c.user),1)],512),[[r["q"],c.user]]),Object(r["s"])(Object(r["e"])("div",{class:"dropAccount_message"},Object(r["o"])(c.message),513),[[r["q"],c.message]]),L,Object(r["s"])(Object(r["e"])("input",{name:"login",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.login=e})},null,512),[[r["p"],c.login]]),_,Object(r["s"])(Object(r["e"])("input",{name:"password",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e})},null,512),[[r["p"],c.password]]),Object(r["e"])("div",D,[Object(r["e"])("button",{class:"accountButton",name:"login",onClick:t[4]||(t[4]=Object(r["t"])((function(e){return a.loginRequest(e)}),["prevent"]))}," Sign in "),Object(r["e"])("button",{class:"accountButton",name:"register",onClick:t[5]||(t[5]=Object(r["t"])((function(e){return a.loginRequest(e)}),["prevent"]))}," Register ")])],512),[[r["q"],c.showAccount]])])})),P={data:function(){return{showAccount:!1,login:"",password:"",user:"",message:""}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.message="",e.user="",t.prev=2,t.next=5,e.$store.dispatch("getUser");case 5:n=t.sent,n.result?e.user=n.result.login:e.message=n.message,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),e.message="Error occurred while logging in",console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},methods:{loginRequest:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.message="",n.prev=1,!t.login||!t.password){n.next=11;break}return r={login:t.login,password:t.password,action:e.target.name},n.next=6,t.$store.dispatch("login",r);case 6:o=n.sent,o.user&&(t.user=o.user.login,t.$refs.formLogin.submit()),o.message&&(t.message=o.message),n.next=12;break;case 11:t.message="Please enter login and password";case 12:n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](1),t.message="Error occurred while logging in",console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,14]])})))()}}};n("828a");P.render=T,P.__scopeId="data-v-06f75456";var S=P,U=n("5502"),C=n("bc3a"),$=n.n(C),q=localStorage.tokenAuth||null;function M(){var e={headers:{"Content-Type":"application/json",Authorization:"bearer "+q},baseURL:"",crossdomain:!0};return $.a.create(e)}var B=M(),E={name:"App",components:{Account:S,Item:h},data:function(){return{items:[],newToDo:""}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.get("/todo");case 3:n=t.sent,r=n.data.result,r&&(e.items=r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log('==> get "todo" failure '+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{addItem:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("unknown"==t.userLogin&&e.preventDefault(),n.prev=1,!t.newToDo){n.next=7;break}return r={name:t.newToDo,done:0},n.next=6,B.post("/todo/",r);case 6:"unknown"==t.userLogin&&t.items.push(Object(l["a"])(Object(l["a"])({},r),{},{id:t.items.length}));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log('==> add "todo" failure '+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},delItem:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.delete("/todo/"+e);case 3:r=n.sent,o=r.data.status,"ok"!=o&&"unknown"!=t.userLogin||(c=t.items.findIndex((function(t){return t.id===e})),-1!==c&&t.items.splice(c,1)),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log('==> delete "todo" failure '+n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},doneItem:function(e,t){var n=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,B.put("/todo/"+e,{done:t});case 3:o=r.sent,c=o.data.status,"ok"!=c&&"unknown"!=n.userLogin||n.items.forEach((function(n){n.id===e&&(n.done=t)})),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log('==> change "todo" failure '+r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},computed:Object(l["a"])({},Object(U["b"])({userLogin:"userLogin_getter"}))};n("e2bc");E.render=i;var V=E,J=Object(U["a"])({state:{token:null,userLogin:"unknown"},mutations:{setToken:function(e,t){e.token=t},setUserLogin:function(e,t){e.userLogin=t}},actions:{getUser:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,B.get("/user");case 4:return r=t.sent,o=r.data.result,n("setUserLogin",o?o.login:"unknown"),t.abrupt("return",r.data);case 10:return t.prev=10,t.t0=t["catch"](1),console.log("==> user get fail "+t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},login:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,B.post("/user",t);case 4:return o=n.sent,c=o.data.token,c&&(r("setToken",c),window.localStorage.setItem("tokenAuth",c)),n.abrupt("return",o.data);case 10:return n.prev=10,n.t0=n["catch"](1),console.log("==> user login fail "+n.t0),n.abrupt("return",null);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()}},getters:{userLogin_getter:function(e){return e.userLogin}}}),N=J,z=Object(r["b"])(V);z.config.globalProperties.$store=N,z.config.globalProperties.$http=B,z.mount("#app"),z.use(N)},"828a":function(e,t,n){"use strict";n("f50a")},afb5:function(e,t,n){},e2bc:function(e,t,n){"use strict";n("10db")},f50a:function(e,t,n){}});